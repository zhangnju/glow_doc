<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Glow: glow::AllocationsInfo Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Glow
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceglow.html">glow</a></li><li class="navelem"><a class="el" href="structglow_1_1_allocations_info.html">AllocationsInfo</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structglow_1_1_allocations_info-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">glow::AllocationsInfo Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_allocations_info_8h_source.html">AllocationsInfo.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a567e8d6e8893ba370bd2cd45a34a31f3"><td class="memItemLeft" align="right" valign="top"><a id="a567e8d6e8893ba370bd2cd45a34a31f3"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a567e8d6e8893ba370bd2cd45a34a31f3">ValueKind</a> { <b>ConstantWeight</b>, 
<b>MutableWeight</b>, 
<b>Activation</b>
 }<tr class="memdesc:a567e8d6e8893ba370bd2cd45a34a31f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Different kinds of values that need to be allocated. <br /></td></tr>
</td></tr>
<tr class="separator:a567e8d6e8893ba370bd2cd45a34a31f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a459d3668174199d9fd8c0252acb4b3f6"><td class="memItemLeft" align="right" valign="top"><a id="a459d3668174199d9fd8c0252acb4b3f6"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>KindAndNumber</b> = std::pair&lt; <a class="el" href="structglow_1_1_allocations_info.html#a567e8d6e8893ba370bd2cd45a34a31f3">ValueKind</a>, size_t &gt;</td></tr>
<tr class="separator:a459d3668174199d9fd8c0252acb4b3f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac70e8e115d01733786ccb39c431a073c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#ac70e8e115d01733786ccb39c431a073c">allocateWeightVars</a> (const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *F)</td></tr>
<tr class="memdesc:ac70e8e115d01733786ccb39c431a073c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base address of constant weights.  <a href="#ac70e8e115d01733786ccb39c431a073c">More...</a><br /></td></tr>
<tr class="separator:ac70e8e115d01733786ccb39c431a073c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2463d5e6b2670eec88016d5ea423ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a6e2463d5e6b2670eec88016d5ea423ce">allocateActivations</a> (const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *F)</td></tr>
<tr class="separator:a6e2463d5e6b2670eec88016d5ea423ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcf9e71b8e280865ca169e7a3f8f947"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a8dcf9e71b8e280865ca169e7a3f8f947">allocateTensorViews</a> (const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *F)</td></tr>
<tr class="separator:a8dcf9e71b8e280865ca169e7a3f8f947"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab816fe2907d4901209b6b08a436e97e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#ab816fe2907d4901209b6b08a436e97e8">numberValues</a> (const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *F)</td></tr>
<tr class="separator:ab816fe2907d4901209b6b08a436e97e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a29c6b600568a9cdf1b3cab12cc119cdb"><td class="memItemLeft" align="right" valign="top"><a id="a29c6b600568a9cdf1b3cab12cc119cdb"></a>
llvm::DenseMap&lt; const <a class="el" href="classglow_1_1_value.html">Value</a> *, KindAndNumber &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a29c6b600568a9cdf1b3cab12cc119cdb">valueNumbers_</a></td></tr>
<tr class="memdesc:a29c6b600568a9cdf1b3cab12cc119cdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map Values in the module to their numbers. <br /></td></tr>
<tr class="separator:a29c6b600568a9cdf1b3cab12cc119cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b605a7c7f6ed12f2c3f6f7e41d2784d"><td class="memItemLeft" align="right" valign="top">llvm::DenseMap&lt; const <a class="el" href="classglow_1_1_value.html">Value</a> *, uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a7b605a7c7f6ed12f2c3f6f7e41d2784d">allocatedAddress_</a></td></tr>
<tr class="memdesc:a7b605a7c7f6ed12f2c3f6f7e41d2784d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps Values in the module to their offsets.  <a href="#a7b605a7c7f6ed12f2c3f6f7e41d2784d">More...</a><br /></td></tr>
<tr class="separator:a7b605a7c7f6ed12f2c3f6f7e41d2784d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7ee050f49840b2f7bf5bca1dde9cd6"><td class="memItemLeft" align="right" valign="top"><a id="a2b7ee050f49840b2f7bf5bca1dde9cd6"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a2b7ee050f49840b2f7bf5bca1dde9cd6">constantWeightVarsMemSize_</a> {0}</td></tr>
<tr class="memdesc:a2b7ee050f49840b2f7bf5bca1dde9cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount of memory to be allocated for constant WeightVars. <br /></td></tr>
<tr class="separator:a2b7ee050f49840b2f7bf5bca1dde9cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a794aef665b80b8558b1b2aaaf91a1bf8"><td class="memItemLeft" align="right" valign="top"><a id="a794aef665b80b8558b1b2aaaf91a1bf8"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a794aef665b80b8558b1b2aaaf91a1bf8">mutableWeightVarsMemSize_</a> {0}</td></tr>
<tr class="memdesc:a794aef665b80b8558b1b2aaaf91a1bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount of memory to be allocated for mutable WeightVars. <br /></td></tr>
<tr class="separator:a794aef665b80b8558b1b2aaaf91a1bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac74c0edfcde078694c009f1e21bd1baf"><td class="memItemLeft" align="right" valign="top"><a id="ac74c0edfcde078694c009f1e21bd1baf"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#ac74c0edfcde078694c009f1e21bd1baf">activationsMemSize_</a> {0}</td></tr>
<tr class="memdesc:ac74c0edfcde078694c009f1e21bd1baf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount of memory to be allocated for activations. <br /></td></tr>
<tr class="separator:ac74c0edfcde078694c009f1e21bd1baf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fca4d6e5d5b55e11e800dfead8b4487"><td class="memItemLeft" align="right" valign="top"><a id="a3fca4d6e5d5b55e11e800dfead8b4487"></a>
uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structglow_1_1_allocations_info.html#a3fca4d6e5d5b55e11e800dfead8b4487">baseConstantWeightVarsStore_</a> {nullptr}</td></tr>
<tr class="memdesc:a3fca4d6e5d5b55e11e800dfead8b4487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base address of stored constant weights. <br /></td></tr>
<tr class="separator:a3fca4d6e5d5b55e11e800dfead8b4487"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Information about allocations for activations, constant weight variables and mutable weight variables. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6e2463d5e6b2670eec88016d5ea423ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e2463d5e6b2670eec88016d5ea423ce">&#9670;&nbsp;</a></span>allocateActivations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AllocationsInfo::allocateActivations </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assign offsets to all activations. No actual memory allocation is performed. All the allocations should be performed by the client based on the information provided by the <a class="el" href="structglow_1_1_allocations_info.html">AllocationsInfo</a> or RuntimeBundle. </p>

</div>
</div>
<a id="a8dcf9e71b8e280865ca169e7a3f8f947"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcf9e71b8e280865ca169e7a3f8f947">&#9670;&nbsp;</a></span>allocateTensorViews()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AllocationsInfo::allocateTensorViews </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assign offsets to all tensorviews. No memory allocation is performed. Sets up all offsets into already defined offsets for WeightVars and AllocActivations. Assumes the weight vars and alloc activations have already been added to allocatedAddress_. </p>

</div>
</div>
<a id="ac70e8e115d01733786ccb39c431a073c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac70e8e115d01733786ccb39c431a073c">&#9670;&nbsp;</a></span>allocateWeightVars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AllocationsInfo::allocateWeightVars </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base address of constant weights. </p>
<p>Assign offsets to all of the variables in the module <code>M</code> and to the placeholders. </p>

</div>
</div>
<a id="ab816fe2907d4901209b6b08a436e97e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab816fe2907d4901209b6b08a436e97e8">&#9670;&nbsp;</a></span>numberValues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AllocationsInfo::numberValues </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classglow_1_1_i_r_function.html">IRFunction</a> *&#160;</td>
          <td class="paramname"><em>F</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number all allocations and weight variables by assigning them unique numbers. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a7b605a7c7f6ed12f2c3f6f7e41d2784d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b605a7c7f6ed12f2c3f6f7e41d2784d">&#9670;&nbsp;</a></span>allocatedAddress_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">llvm::DenseMap&lt;const <a class="el" href="classglow_1_1_value.html">Value</a> *, uint64_t&gt; glow::AllocationsInfo::allocatedAddress_</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps Values in the module to their offsets. </p>
<p>To get the offset of a given value simply use numberOffsets_[valueNumbers_[v]] </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>include/glow/LLVMIRCodeGen/<a class="el" href="_allocations_info_8h_source.html">AllocationsInfo.h</a></li>
<li>lib/LLVMIRCodeGen/AllocationsInfo.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
